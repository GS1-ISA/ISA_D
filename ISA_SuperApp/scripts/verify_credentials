#!/usr/bin/env python3
import os, json, sys
sys.path.append(os.path.dirname(os.path.dirname(__file__)))
from src.integrations.neo4j_client import verify_connection as v_neo
from src.integrations.figma_client import verify_token as v_figma
from src.integrations.supabase_client import verify_connection as v_supa
def main():
    res={}
    ok,msg=v_neo(); res["neo4j"]={"ok":ok,"msg":msg}
    ok,msg=v_figma(); res["figma"]={"ok":ok,"msg":msg}
    ok,msg=v_supa(); res["supabase"]={"ok":ok,"msg":msg}
    ok=bool(os.getenv("OPENROUTER_API_KEY") or os.getenv("ISA_API_KEY_OPENROUTER"))
    res["openrouter"]={"ok":ok,"msg":"Key present" if ok else "Missing key"}
    res["figma_file_key"]={"ok": bool(os.getenv("FIGMA_FILE_KEY") or os.getenv("FIGMA_FILE_URL")), "msg":"Provided" if (os.getenv("FIGMA_FILE_KEY") or os.getenv("FIGMA_FILE_URL")) else "Missing"}
    print(json.dumps(res, indent=2))
if __name__=="__main__": main()
